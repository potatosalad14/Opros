<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Опросник</title>
    <style>
        body {
            font-family:"Montserrat";
			font-color:#00008B
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background-color: #E6E6FA;
        }

        .container {
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            width: 80%;
            max-width: 600px;
            text-align: center;

        }

        h1 {
            color: #00008B;
            margin-bottom: 20px;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            text-align: left;
			font-family:"Montserrat"
        }

        .form-group input[type="text"],
        .form-group input[type="text"],
        .form-group input[type="number"] {
            width: calc(100% - 12px);
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }

        .question {
            margin-bottom: 20px;
            text-align: left;
        }

        .question p {
            margin-bottom: 10px;
        }

        .question label {
            display: block;
            margin-bottom: 5px;
        }

        .btn {
            background-color: #007bff;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .btn:hover {
            background-color: #0056b3;
        }

        .error-message {
            color: red;
            margin-top: 10px;
        }

        .question input[type="radio"]:checked + label {
            font-weight: bold;
        }

         .question input[type="checkbox"]:checked + label {
            font-weight: bold;
        }


        .result-message {
            margin-top: 20px;
            font-weight: bold;
			font-family:"RAYDIS"
            color: green;
        }

        .correct-answer {
            color: green;
        }

        .incorrect-answer {
            color: red;
            font-weight: bold;
        }
        #resultsTable {
        width: 100%;
        border-collapse: collapse;
        margin-top: 20px;
    }
        #resultsTable th, #resultsTable td {
            border: 1px solid #ddd;
             padding: 10px;
            text-align: center;
        }

         #resultsTable th {
             background-color: #007bff;
             color: white;
        }
         .feedback-message {
            margin-top: 20px;
            font-weight: bold;
            color: #007bff;
        }

        #surveyPage, #testPage, #teacherPage {
          display: none;
       }
        #authPage {
        display: block;
        }
    </style>
</head>
<body>
    <div id="authPage" class="container">
        <h1>Авторизация</h1>
        <form id="authForm">
            <div class="form-group">
                <label for="lastName">Фамилия:</label>
                <input type="text" id="lastName" required>
            </div>
            <div class="form-group">
                <label for="course">Курс:</label>
                <input type="text" id="course" required>
            </div>
            <button type="submit" class="btn">Войти</button>
        </form>
        <div id="error-message" class="error-message"></div>
    </div>

     <div id="surveyPage" class="container">
        <h1>Опрос студентов 3 курса Прикладной информатики в экономике по предмету: Теория систем и системный анализ</h1>
         <form id="surveyForm">
            <div class="question">
                <p>1. Какой метод обучения данного предмета Вы считаете наиболее эффективным?</p>
                <label><input type="radio" name="q1" value="1" required> Лекция</label><br>
                <label><input type="radio" name="q1" value="2"> Практика</label><br>
                <label><input type="radio" name="q1" value="3"> Оба варианта</label><br>
                <label><input type="radio" name="q1" value="4"> Никакой</label><br>
            </div>
            <div class="question">
                <p>2. Насколько Вам нравится формат лекций?</p>
                 <label><input type="radio" name="q2" value="1" required> Очень нравится</label><br>
                <label><input type="radio" name="q2" value="2"> Нравится</label><br>
                <label><input type="radio" name="q2" value="3"> Нейтрально</label><br>
                <label><input type="radio" name="q2" value="4"> Не нравится</label><br>
            </div>
             <div class="question">
                <p>3. Насколько Вам полезны практические занятия?</p>
                 <label><input type="radio" name="q3" value="1" required> Очень полезны</label><br>
                <label><input type="radio" name="q3" value="2"> Полезны</label><br>
                <label><input type="radio" name="q3" value="3"> Нейтрально</label><br>
                <label><input type="radio" name="q3" value="4"> Бесполезны</label><br>
            </div>
              <div class="question">
                 <p>4. Как Вы оцениваете доступность учебных материалов?</p>
                 <label><input type="radio" name="q4" value="1" required> Отлично</label><br>
                <label><input type="radio" name="q4" value="2"> Хорошо</label><br>
                <label><input type="radio" name="q4" value="3"> Удовлетворительно</label><br>
                <label><input type="radio" name="q4" value="4"> Плохо</label><br>
            </div>
            <div class="question">
               <p>5. Насколько преподаватель готов отвечать на Ваши вопросы?</p>
               <label><input type="radio" name="q5" value="1" required> Всегда готов</label><br>
               <label><input type="radio" name="q5" value="2"> Обычно готов</label><br>
                <label><input type="radio" name="q5" value="3"> Иногда готов</label><br>
                <label><input type="radio" name="q5" value="4"> Редко готов</label><br>
            </div>
            <div class="question">
                 <p>6. Как Вы оцениваете атмосферу на лекционных занятиях?</p>
                 <label><input type="radio" name="q6" value="1" required> Позитивная</label><br>
                 <label><input type="radio" name="q6" value="2"> Нейтральная</label><br>
                 <label><input type="radio" name="q6" value="3"> Негативная</label><br>
            </div>
            <div class="question">
                <p>7. Как Вы оцениваете атмосферу на практических занятиях?</p>
                 <label><input type="radio" name="q7" value="1" required> Позитивная</label><br>
                <label><input type="radio" name="q7" value="2"> Нейтральная</label><br>
               <label><input type="radio" name="q7" value="3"> Негативная</label><br>
            </div>
               <div class="question">
                <p>8. Оцените уровень теоретических знаний по предмету от 1 до 5</p>
                 <input type="number" name="q8" min="1" max="5" required><br>
            </div>
            <div class="question">
                <p>9. Оцените уровень практических знаний по предмету от 1 до 5</p>
                 <input type="number" name="q9" min="1" max="5" required><br>
            </div>
            <div class="question">
                <p>10. Оцените работу преподавателя по предмету от 1 до 5</p>
                 <input type="number" name="q10" min="1" max="5" required><br>
            </div>
            <button type="submit" class="btn">Перейти к тесту</button>
        </form>
    </div>

    <div id="testPage" class="container">
        <h1>Давайте проверим уровень Ваших теоретических знаний по предмету "Теория систем и системный анализ"</h1>
        <form id="testForm">
            <div class="question">
                 <p>1. Что такое анализ?</p>
                <label><input type="radio" name="q1" value="a"> Метод интуитивного познания</label><br>
                <label><input type="radio" name="q1" value="b"> Метод научного исследования, состоящий в фактическом или мысленном разложении целого на составные части</label><br>
                <label><input type="radio" name="q1" value="c"> Метод объединения разрозненных элементов в единое целое</label><br>
                <label><input type="radio" name="q1" value="d"> Способ описания явления без его изучения</label><br>
            </div>
            <div class="question">
                <p>2. Что такое синтез?</p>
                 <label><input type="radio" name="q2" value="a"> Метод разделения целого на части</label><br>
                 <label><input type="radio" name="q2" value="b"> Метод научного исследования некоторого процесса, явления или системы, состоящий в познании его как единого целого в единстве и взаимной связи его частей</label><br>
                <label><input type="radio" name="q2" value="c"> Процесс абстрагирования от реальности</label><br>
                <label><input type="radio" name="q2" value="d"> Способ запоминания информации</label><br>
            </div>
            <div class="question">
                 <p>3. На какие основные категории подразделяются системы?</p>
                  <label><input type="radio" name="q3" value="a"> Простые и сложные</label><br>
                  <label><input type="radio" name="q3" value="b"> Большие и малые</label><br>
                  <label><input type="radio" name="q3" value="c"> Материальные и Абстрактные</label><br>
                  <label><input type="radio" name="q3" value="d"> Открытые и закрытые</label><br>
            </div>
           <div class="question">
               <p>4. Метод мышления, следствием которого является логический вывод, где частное заключение выводится из общего - это...</p>
               <label><input type="radio" name="q4" value="a"> Индукция</label><br>
               <label><input type="radio" name="q4" value="b"> Аналогия</label><br>
               <label><input type="radio" name="q4" value="c"> Дедукция</label><br>
               <label><input type="radio" name="q4" value="d"> Абстракция</label><br>
            </div>
           <div class="question">
              <p>5. Какие типы противоречий существуют в системах?</p>
              <label><input type="checkbox" name="q5" value="a"> внутренние</label><br>
               <label><input type="checkbox" name="q5" value="b"> острые</label><br>
               <label><input type="checkbox" name="q5" value="c"> равновесные</label><br>
                <label><input type="checkbox" name="q5" value="d"> скрытые</label><br>
               <label><input type="checkbox" name="q5" value="e"> позитивные</label><br>
                <label><input type="checkbox" name="q5" value="f"> непосредственные</label><br>
                <label><input type="checkbox" name="q5" value="g"> негативные</label><br>
               <label><input type="checkbox" name="q5" value="h"> опосредованные</label><br>
            </div>
            <div class="question">
                <p>6. Все системы по своему внутреннему устройству подчинены закону:</p>
                 <label><input type="radio" name="q6" value="a"> Энергии</label><br>
                  <label><input type="radio" name="q6" value="b"> Субординации</label><br>
                  <label><input type="radio" name="q6" value="c"> Иерархии</label><br>
                  <label><input type="radio" name="q6" value="d"> Развития</label><br>
            </div>
           <div class="question">
                <p>7. Состояние системы - это...</p>
                 <label><input type="radio" name="q7" value="a"> Фаза изменения системы</label><br>
                 <label><input type="radio" name="q7" value="b"> Это набор основных параметров, определяющих характер её функционирования на определённом временном интервале</label><br>
                 <label><input type="radio" name="q7" value="c"> Набор элементов системы</label><br>
                <label><input type="radio" name="q7" value="d"> Описание внешней среды системы</label><br>
            </div>
             <button type="submit" class="btn">Завершить тест</button>
        </form>
        <div id="result" class="result-message"></div>
    </div>

    <div id="teacherPage" class="container">
        <h1>Результаты опроса и теста</h1>
         <div id="survey-feedback" class="feedback-message"></div>
        <div id="test-feedback" class="feedback-message"></div>

        <table id="resultsTable">
            <thead>
                <tr>
                   <th>Фамилия</th>
                    <th>Курс</th>
                     <th>Q1</th>
                     <th>Q2</th>
                      <th>Q3</th>
                       <th>Q4</th>
                        <th>Q5</th>
                        <th>Q6</th>
                        <th>Q7</th>
                          <th>Q8</th>
                           <th>Q9</th>
                            <th>Q10</th>
                    <th>Тест %</th>
                </tr>
            </thead>
            <tbody id="resultsBody"></tbody>
        </table>
    </div>
    <script>
    document.addEventListener('DOMContentLoaded', function () {
        const authForm = document.getElementById('authForm');
        const lastNameInput = document.getElementById('lastName');
        const courseInput = document.getElementById('course');
        const errorMessage = document.getElementById('error-message');
        const authPage = document.getElementById('authPage');
        const surveyPage = document.getElementById('surveyPage');
        const testPage = document.getElementById('testPage');
        const teacherPage = document.getElementById('teacherPage');


        authForm.addEventListener('submit', function (e) {
            e.preventDefault();
            const lastName = lastNameInput.value.trim();
            const course = courseInput.value.trim();

            if (lastName === "Бозиев" && course === "преподаватель") {
              authPage.style.display = 'none';
                teacherPage.style.display = 'block';
                loadTeacherData();
                return;
            }

             const allowedStudents = [
                 { lastName: "Токмакова", course: "3" },
                 { lastName: "Кочесокова", course: "3" },
                 { lastName: "Белимготова", course: "3" },
                 { lastName: "Калмыкова", course: "3" },
                 { lastName: "Хабалов", course: "3" },
                 { lastName: "Шуева", course: "3" },
                 { lastName: "Хавпачев", course: "3" },
                 { lastName: "Ципинов", course: "3" },
                 { lastName: "Тишков", course: "3" },
                 { lastName: "Биттиров", course: "3" },
                { lastName: "Жанимов", course: "3" },
                { lastName: "Келеметов", course: "3" },
                { lastName: "Шогенов", course: "3" },
                { lastName: "Шарипова", course: "3" },
                { lastName: "Дауров", course: "3" },
            ];


            const isAllowed = allowedStudents.some(student => student.lastName === lastName && student.course === course);

            if (isAllowed) {
                localStorage.setItem('currentStudent', JSON.stringify({ lastName, course }));
                authPage.style.display = 'none';
                surveyPage.style.display = 'block';
            } else {
                errorMessage.textContent = "Ошибка авторизации. Пожалуйста, проверьте фамилию и курс.";
            }
        });

         const surveyForm = document.getElementById('surveyForm');
        surveyForm.addEventListener('submit', function (e) {
              e.preventDefault();
             const answers = {
                q1: surveyForm.q1.value,
                 q2: surveyForm.q2.value,
                  q3: surveyForm.q3.value,
                   q4: surveyForm.q4.value,
                  q5: surveyForm.q5.value,
                  q6: surveyForm.q6.value,
                 q7: surveyForm.q7.value,
                   q8:surveyForm.q8.value,
                    q9:surveyForm.q9.value,
                    q10:surveyForm.q10.value
             };
             localStorage.setItem('surveyAnswers', JSON.stringify(answers));
             surveyPage.style.display = 'none';
                testPage.style.display = 'block';
         });

         const testForm = document.getElementById('testForm');
         const resultDiv = document.getElementById('result');
         testForm.addEventListener('submit', function (e) {
            e.preventDefault();
             const studentData = JSON.parse(localStorage.getItem('currentStudent'));
             const surveyAnswers = JSON.parse(localStorage.getItem('surveyAnswers'));
            const answers = {
                q1: testForm.q1.value,
                q2: testForm.q2.value,
                q3: testForm.q3.value,
                q4: testForm.q4.value,
                q5: Array.from(testForm.q5)
                            .filter(checkbox => checkbox.checked)
                            .map(checkbox => checkbox.value),
                q6: testForm.q6.value,
                q7: testForm.q7.value
            };
              const correctAnswers = {
                 q1: 'b',
                 q2: 'b',
                 q3: 'c',
                  q4: 'c',
                 q5: ['b', 'c','d', 'f','h'],
                  q6: 'b',
                   q7: 'b'
              };
             let correctCount = 0;

              if (answers.q1 === correctAnswers.q1) {
                  correctCount++;
                 testForm.querySelector('input[name="q1"][value="' + answers.q1 + '"]').parentElement.classList.add('correct-answer');
             } else {
                 testForm.querySelector('input[name="q1"][value="' + answers.q1 + '"]').parentElement.classList.add('incorrect-answer');
             }
              if (answers.q2 === correctAnswers.q2) {
                  correctCount++;
                 testForm.querySelector('input[name="q2"][value="' + answers.q2 + '"]').parentElement.classList.add('correct-answer');
              } else {
                   testForm.querySelector('input[name="q2"][value="' + answers.q2 + '"]').parentElement.classList.add('incorrect-answer');
              }
              if (answers.q3 === correctAnswers.q3) {
                 correctCount++;
                  testForm.querySelector('input[name="q3"][value="' + answers.q3 + '"]').parentElement.classList.add('correct-answer');
              } else {
                   testForm.querySelector('input[name="q3"][value="' + answers.q3 + '"]').parentElement.classList.add('incorrect-answer');
              }
               if (answers.q4 === correctAnswers.q4) {
                 correctCount++;
                 testForm.querySelector('input[name="q4"][value="' + answers.q4 + '"]').parentElement.classList.add('correct-answer');
               }
              else {
                   testForm.querySelector('input[name="q4"][value="' + answers.q4 + '"]').parentElement.classList.add('incorrect-answer');
              }

            const q5Correct =  correctAnswers.q5.every(answer => answers.q5.includes(answer)) && answers.q5.every(answer=> correctAnswers.q5.includes(answer));
            if (q5Correct) {
                 correctCount++;
                 Array.from(testForm.q5)
                             .filter(checkbox => answers.q5.includes(checkbox.value)).forEach(checkbox => checkbox.parentElement.classList.add('correct-answer'))
              }
              else{
                 Array.from(testForm.q5)
                   .filter(checkbox => answers.q5.includes(checkbox.value)).forEach(checkbox => checkbox.parentElement.classList.add('incorrect-answer'))
              }
              if (answers.q6 === correctAnswers.q6) {
                   correctCount++;
                  testForm.querySelector('input[name="q6"][value="' + answers.q6 + '"]').parentElement.classList.add('correct-answer');
              }else {
                   testForm.querySelector('input[name="q6"][value="' + answers.q6 + '"]').parentElement.classList.add('incorrect-answer');
              }
               if (answers.q7 === correctAnswers.q7) {
                 correctCount++;
                   testForm.querySelector('input[name="q7"][value="' + answers.q7 + '"]').parentElement.classList.add('correct-answer');
               }
              else {
                 testForm.querySelector('input[name="q7"][value="' + answers.q7 + '"]').parentElement.classList.add('incorrect-answer');
              }
           const percentage = (correctCount / 7) * 100;
                resultDiv.textContent = `Ваш результат: ${percentage.toFixed(2)}%`;

                testForm.querySelectorAll('.question input[type="radio"]').forEach(radio => {
                radio.disabled = true;
              });testForm.querySelectorAll('.question input[type="checkbox"]').forEach(checkbox => {
                    checkbox.disabled = true;
                  });
                testForm.querySelector('button[type="submit"]').disabled = true;


                let results = JSON.parse(localStorage.getItem('allResults') || '[]');
                results.push({
                    ...studentData,
                    ...surveyAnswers,
                testPercentage: percentage.toFixed(2),
                     testAnswers: answers
                });

                localStorage.setItem('allResults', JSON.stringify(results));


        });

          function loadTeacherData(){
                 const resultsTableBody = document.getElementById('resultsBody');
                const surveyFeedbackDiv = document.getElementById('survey-feedback');
                  const testFeedbackDiv = document.getElementById('test-feedback');
                const results = JSON.parse(localStorage.getItem('allResults') || '[]');


                   results.forEach(result => {
                        const row = document.createElement('tr');
                        row.innerHTML = `
                            <td>${result.lastName}</td>
                           <td>${result.course}</td>
                            <td>${result.q1}</td>
                            <td>${result.q2}</td>
                             <td>${result.q3}</td>
                              <td>${result.q4}</td>
                               <td>${result.q5}</td>
                                <td>${result.q6}</td>
                                 <td>${result.q7}</td>
                                  <td>${result.q8}</td>
                                   <td>${result.q9}</td>
                                    <td>${result.q10}</td>
                            <td>${result.testPercentage}%</td>
                        `;
                        resultsTableBody.appendChild(row);
                    });

                const surveyScores = results.map(result => ({
                    q1: parseInt(result.q1),
                      q2: parseInt(result.q2),
                        q3: parseInt(result.q3),
                         q4: parseInt(result.q4),
                    q5: parseInt(result.q5),
                     q6: parseInt(result.q6),
                      q7: parseInt(result.q7),
                        q8:parseInt(result.q8),
                        q9:parseInt(result.q9),
                      q10:parseInt(result.q10)
                }));

                 const isSatisfactorySurvey = surveyScores.every(score => {
                    return (score.q1 <= 3) && (score.q2 <= 3) && (score.q3 <= 3) && (score.q4 <= 3) && (score.q5<=3) && (score.q6 <= 2) && (score.q7<= 2) && (score.q8 >= 3) && (score.q9 >=3) && (score.q10 >=3);

                   });

                    if(isSatisfactorySurvey){
                        surveyFeedbackDiv.textContent = "Студенты считают,что Ваш предмет очень полезен, Они выбирают как лекционный формат проведения занятий,так и практический и высоко оценивают Вашу работу";
                    }

                    const testScores = results.map(result => parseInt(result.testPercentage));
                    const totalCorrect = testScores.filter(score => score >= 50).length;
                    const totalIncorrect = testScores.filter(score => score < 50).length;

                    if(totalCorrect>totalIncorrect){
                         testFeedbackDiv.textContent = "Тест показал,что студенты отлично знают теоретическую часть предмета \"Теория систем и системный анализ\"";
                    }
                    else{
                         testFeedbackDiv.textContent = "Тест показал,что студенты плохо знают теоретическую часть предмета \"Теория систем и системный анализ\"";
                    }
            }
    });
    </script>
</body>
</html>
